(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var o=n(12),a=n(22),i=n.n(a),r=n(14),s=n(1),c=n(4),h=n(2),d=n(3),l=n(0),p=n(23),u=15264502,w=16775393,m=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t,o,a){var i,r=a.distance,c=a.rotationSpeed,h=a.size;Object(s.a)(this,n);var d=new l.l(u,.33),m=new l.l(w,.67),y=new l.t(11725810,0,.33),g=new l.t(16764092,0,.33),b=new l.M(h,8,6),f=new l.y({color:u,fog:!1}),M=new l.y({color:w,fog:!1}),v=new l.x(b,f),x=new l.x(b,M),k=Math.PI/3,L=Math.cos(k)*r,j=Math.sin(k)*r,P=new l.Q,O=new l.Q;return v.position.set(-r,0,0),d.position.set(-r,0,0),x.position.set(r,0,0),m.position.set(r,0,0),y.position.set(L,0,-j),g.position.set(L,0,j),(i=e.call(this)).add(v),i.add(d),i.add(x),i.add(m),i.add(y),i.add(g),i.animate=function(e){i.rotateY(e*c),x.getWorldPosition(O),o.getWorldPosition(P);var n=O.angleTo(P)/Math.PI,a=p.mix(9489145,0,n).hex();t.color.set(a),t.far=P.length()},i}return n}(l.E),y=n(16),g=Math.sin(3*Math.PI/8),b=Math.sin(2*Math.PI/8),f=Math.sin(1*Math.PI/8),M=[new l.B({color:3622735,flatShading:!0}),new l.B({color:7697781,shininess:0,flatShading:!0}),new l.B({color:10724259,shininess:0,flatShading:!0}),new l.B({color:13750737,shininess:0,flatShading:!0}),new l.B({color:16777215,flatShading:!0}),new l.B({color:10722698,flatShading:!0}),new l.B({color:11514266,flatShading:!0}),new l.B({color:12240042,flatShading:!0}),new l.B({color:13031610,shininess:0,flatShading:!0}),new l.B({color:13747358,shininess:0,flatShading:!0}),new l.B({color:12304016,shininess:0,flatShading:!0}),new l.B({color:10795138,flatShading:!0}),new l.B({color:9351796,flatShading:!0}),new l.B({color:16772275,flatShading:!0}),new l.B({color:13028487,flatShading:!0}),new l.B({color:9349979,shininess:0,flatShading:!0}),new l.B({color:5606191,shininess:0,flatShading:!0})],v=function(t){x.offset.x+=t/12},x=new l.B({color:10730964,transparent:!0,opacity:.8});x.side=l.m;var k={blackMat:new l.B({color:1050375,flatShading:!0}),brownMat:new l.B({color:11815737,shininess:0,flatShading:!0}),greenMat:new l.B({color:8044430,shininess:0,flatShading:!0}),pinkMat:new l.B({color:14442309,shininess:0,flatShading:!0}),lightBrownMat:new l.B({color:14711383,flatShading:!0}),whiteMat:new l.B({color:10786697,flatShading:!0}),skinMat:new l.B({color:16752293,flatShading:!0}),blueMat:new l.B({color:6002326,flatShading:!0})},L=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this)).add(t),o}return n}(l.x),j=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t,o,a,i,r){var c;Object(s.a)(this,n);var h=k.whiteMat,d=new l.i(t,o,a,i,r);d.applyMatrix4((new l.w).makeTranslation(0,a/2,0)),(c=e.call(this,d,h)).castShadow=!0,c.growFruit=function(t){var e=3*Math.random(),n=new l.c(e,e,e,1),o=function(t){var e=Object.keys(t);return t[e[e.length*Math.random()<<0]]}(k),a=new l.x(n,o);a.position.x=t.x,a.position.y=t.y+3,a.position.z=t.z,a.rotation.x=Math.random()*Math.PI,a.rotation.y=Math.random()*Math.PI,c.add(a)},c.growBranch=function(t){var e=3+5*Math.random(),n=.2+Math.random(),o=new l.i(n/2,n,e,3,1);o.applyMatrix4((new l.w).makeTranslation(0,e/2,0));var a=new l.x(o,h);a.position.x=t.x,a.position.y=t.y,a.position.z=t.z;var i=new l.Q(t.x,2,t.z),r=new l.Q(0,1,0);a.quaternion.setFromUnitVectors(r,i.clone().normalize()),c.add(a)};for(var p=0;p<d.attributes.position.count;p++){var u=Math.random(),w=new l.Q;(w=w.fromBufferAttribute(d.getAttribute("position"),[p])).x+=-u+Math.random()*u*2,w.y+=-u+Math.random()*u*2,w.z+=-u+Math.random()*u*2,Math.random()>.7&&c.growFruit(w),Math.random()>.5&&w.y>10&&w.y<c.height-10&&c.growBranch(w)}return c}return n}(l.x),P=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var o,a=t.radius,i=t.widthSegments,r=t.heightSegments,c=Object(y.a)(t,["radius","widthSegments","heightSegments"]);Object(s.a)(this,n);var h=new O(a,i,r,c).toNonIndexed(),d=function(t){for(var e=new l.Q,n=t.attributes.position,o=new l.Q,a=function(a){var i=o.fromBufferAttribute(n,a),r=o.fromBufferAttribute(n,a+1),s=o.fromBufferAttribute(n,a+2),c=Math.max(i.length(),r.length(),s.length()),h=e.fromBufferAttribute(t.attributes.normal,a),d=function(t){var e=t+parseInt(4*c,10);return Math.min(e,t+3)},l=Math.abs(h.y);l>g?t.addGroup(a,3,d(1)):l>b?t.addGroup(a,3,d(5)):l>f?t.addGroup(a,3,d(9)):t.addGroup(a,3,d(13))},i=0;i<n.count;i+=3)a(i)}(h),p=new l.M(a,i,r),u=new l.x(p,x);(o=e.call(this,h,M)).add(d,u),o.animate=v;for(var w=0;w<5;w++)for(var m=w*(2*Math.PI)/5,k=0;k<5;k++){var P=k*Math.PI*2/5;P+=.25+.3*Math.random();var R=new j(1+1*Math.random(),3+1*Math.random(),25+25*Math.random(),3,3),z=new L(R);z.position.x=Math.sin(P)*Math.cos(m)*a,z.position.y=Math.sin(P)*Math.sin(m)*(a-10),z.position.z=Math.cos(P)*a;var I=z.position.clone(),B=new l.Q(0,1,0);z.quaternion.setFromUnitVectors(B,I.clone().normalize()),o.add(z)}return o}return n}(l.x),O=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t,o,a,i){var r,c=i.seed,h=i.noiseWidth,d=i.noiseHeight;Object(s.a)(this,n);for(var p,u,w,m=(r=e.call(this,t,o,a)).attributes.position,y=new l.Q,g=[],b=function(t){return function(t,e,n){for(var o=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],a=0;a<256;a++)o[256+a]=o[a];function i(t){return t*t*t*(t*(6*t-15)+10)}function r(t,e,n){return e+t*(n-e)}function s(t,e,n,o){var a=15&t,i=a<8?e:n,r=a<4?n:12===a||14===a?e:o;return(0===(1&a)?i:-i)+(0===(2&a)?r:-r)}return function(t,e,n){var a=Math.floor(t),c=Math.floor(e),h=Math.floor(n),d=255&a,l=255&c,p=255&h,u=(t-=a)-1,w=(e-=c)-1,m=(n-=h)-1,y=i(t),g=i(e),b=i(n),f=o[d]+l,M=o[f]+p,v=o[f+1]+p,x=o[d+1]+l,k=o[x]+p,L=o[x+1]+p;return r(b,r(g,r(y,s(o[M],t,e,n),s(o[k],u,e,n)),r(y,s(o[v],t,w,n),s(o[L],u,w,n))),r(g,r(y,s(o[M+1],t,e,m),s(o[k+1],u,e,n-1)),r(y,s(o[v+1],t,w,m),s(o[L+1],u,w,m))))}(t,e,n)}(c+t.x/h,c+t.y/h,c+t.z/h)},f=[],M=0,v=m.count;M<v;M++){var x=y.fromBufferAttribute(m,M);f.push(b(x))}p=Math.max.apply(Math,f),u=-Math.min.apply(Math,f);for(var k=0,L=m.count;k<L;k++){var j=y.fromBufferAttribute(m,k),P=b(j);P>0?w=P/p:P<0?w=P/u:0===P&&(w=0),j=j.setLength(w+t);var O=1+w*d/t;g.push(j.x*O),g.push(j.y*O),g.push(j.z*O)}return r.setAttribute("position",new l.d(new Float32Array(g),3)),r}return n}(l.M),R=n(6),z=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(s.a)(this,n),(t=e.call(this)).status="running",t.runningCycle=0,t.body=new l.s,t.add(t.body);var o=10/6,a=new l.c(7,7,10,1);t.torso=new l.x(a,k.brownMat),t.torso.position.z=0,t.torso.position.y=7,t.torso.castShadow=!0,t.body.add(t.torso);var i=new l.c(9,9,5,1);t.pants=new l.x(i,k.whiteMat),t.pants.position.z=-3,t.pants.position.y=0,t.pants.castShadow=!0,t.torso.add(t.pants);var r=new l.c(3,3,3,1);r.applyMatrix4((new l.w).makeTranslation(0,0,-2)),t.tail=new l.x(r,k.lightBrownMat),t.tail.position.z=-4,t.tail.position.y=5,t.tail.castShadow=!0,t.torso.add(t.tail),t.torso.rotation.x=-Math.PI/8;var c=new l.c(10,10,13,1);c.applyMatrix4((new l.w).makeTranslation(0,0,7.5)),t.head=new l.x(c,k.brownMat),t.head.position.z=2,t.head.position.y=11,t.head.castShadow=!0,t.body.add(t.head);var h=new l.c(1,4,4,1);t.cheekR=new l.x(h,k.pinkMat),t.cheekR.position.x=-5,t.cheekR.position.z=7,t.cheekR.position.y=-2.5,t.cheekR.castShadow=!0,t.head.add(t.cheekR),t.cheekL=t.cheekR.clone(),t.cheekL.position.x=-t.cheekR.position.x,t.head.add(t.cheekL);var d=new l.c(6,6,3,1);t.nose=new l.x(d,k.LightBrownMat),t.nose.position.z=13.5,t.nose.position.y=2.6,t.nose.castShadow=!0,t.head.add(t.nose);var p=new l.c(4,2,4,1);p.applyMatrix4((new l.w).makeTranslation(0,0,3)),p.applyMatrix4((new l.w).makeRotationX(Math.PI/12)),t.mouth=new l.x(p,k.brownMat),t.mouth.position.z=8,t.mouth.position.y=-4,t.mouth.castShadow=!0,t.head.add(t.mouth);var u=new l.c(3,3,3,1);t.pawFR=new l.x(u,k.lightBrownMat),t.pawFR.position.x=-2,t.pawFR.position.z=6,t.pawFR.position.y=1.5,t.pawFR.castShadow=!0,t.body.add(t.pawFR),t.pawFL=t.pawFR.clone(),t.pawFL.position.x=-t.pawFR.position.x,t.pawFL.castShadow=!0,t.body.add(t.pawFL);var w=new l.c(3,3,6,1);t.pawBL=new l.x(w,k.lightBrownMat),t.pawBL.position.y=1.5,t.pawBL.position.z=0,t.pawBL.position.x=5,t.pawBL.castShadow=!0,t.body.add(t.pawBL),t.pawBR=t.pawBL.clone(),t.pawBR.position.x=-t.pawBL.position.x,t.pawBR.castShadow=!0,t.body.add(t.pawBR);var m=new l.c(7,18,2,1);m.applyMatrix4((new l.w).makeTranslation(0,9,0)),t.earL=new l.x(m,k.brownMat),t.earL.position.x=2,t.earL.position.z=2.5,t.earL.position.y=5,t.earL.rotation.z=-Math.PI/12,t.earL.castShadow=!0,t.head.add(t.earL),t.earR=t.earL.clone(),t.earR.position.x=-t.earL.position.x,t.earR.rotation.z=-t.earL.rotation.z,t.earR.castShadow=!0,t.head.add(t.earR);var y=new l.c(2,4,4);t.eyeL=new l.x(y,k.whiteMat),t.eyeL.position.x=5,t.eyeL.position.z=5.5,t.eyeL.position.y=2.9,t.eyeL.castShadow=!0,t.head.add(t.eyeL);var g=new l.c(.6,2,2);return t.iris=new l.x(g,k.blackMat),t.iris.position.x=1.2,t.iris.position.y=1,t.iris.position.z=1,t.eyeL.add(t.iris),t.eyeR=t.eyeL.clone(),t.eyeR.children[0].position.x=-t.iris.position.x,t.eyeR.position.x=-t.eyeL.position.x,t.head.add(t.eyeR),t.body.scale.set(.2,.2,.2),t.body.traverse((function(t){t instanceof l.x&&(t.castShadow=!0,t.receiveShadow=!0)})),t.run=function(e){t.status="running",t.runningCycle+=6*e*.7,t.runningCycle=t.runningCycle%(2*Math.PI);var n=t.runningCycle;t.body.position.y=4*Math.sin(n-Math.PI/2),t.body.rotation.x=.2+4*Math.sin(n-Math.PI/2)*.1,t.torso.rotation.x=4*Math.sin(n-Math.PI/2)*.1,t.torso.position.y=7+4*Math.sin(n-Math.PI/2)*.5,t.mouth.rotation.x=Math.PI/16+4*Math.cos(n)*.05,t.head.position.z=2+4*Math.sin(n-Math.PI/2)*.5,t.head.position.y=8+4*Math.cos(n-Math.PI/2)*.7,t.head.rotation.x=4*Math.sin(n+Math.PI)*.1-.2,t.earL.rotation.x=.8*Math.cos(-Math.PI/2+n),t.earR.rotation.x=1.2*Math.cos(-Math.PI/2+.2+n),t.eyeR.scale.y=t.eyeL.scale.y=.7+.6*Math.abs(Math.cos(-Math.PI/4+.5*n)),t.tail.rotation.x=4*Math.cos(Math.PI/2+n)*.3,t.pawFR.position.y=1.5+4*Math.sin(n),t.pawFR.rotation.x=Math.cos(n)*Math.PI/4,t.pawFR.position.z=6-4*Math.cos(n)*2,t.pawFL.position.y=1.5+4*Math.sin(.2+n),t.pawFL.rotation.x=Math.cos(n)*Math.PI/4,t.pawFL.position.z=6-4*Math.cos(.2+n)*2,t.pawBR.position.y=1.5+4*Math.sin(Math.PI+n),t.pawBR.rotation.x=Math.cos(n+1.5*Math.PI)*Math.PI/3,t.pawBR.position.z=4*-Math.cos(Math.PI+n),t.pawBL.position.y=1.5+4*Math.sin(Math.PI+n),t.pawBL.rotation.x=Math.cos(n+1.5*Math.PI)*Math.PI/3,t.pawBL.position.z=4*-Math.cos(Math.PI+n)},t.jump=function(){t.status="jumping",new R.a.Tween(t.earL.rotation).to({x:"+=.3"},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.earR.rotation).to({x:"+=.3"},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.pawFL.rotation).to({x:"+=.7"},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.pawFR.rotation).to({x:"-=.7"},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.pawBL.rotation).to({x:"+=.7"},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.pawBR.rotation).to({x:"-=.7"},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.tail.rotation).to({x:"+=1"},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.mouth.rotation).to({x:.5},o).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.body.position).to({y:t.body.position.y+10},500).easing(R.a.Easing.Elastic.Out).start(),new R.a.Tween(t.body.position).to({y:"0"},500).delay(500).easing(R.a.Easing.Elastic.In).start()},t}return n}(l.s),I=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(s.a)(this,n),(t=e.call(this)).runningCycle=0,t.body=new l.s,t.add(t.body);var o=255,a=225,i=225,r=0,c=0,h=0,d=new l.c(120,120,120),p=new l.z({color:8451582});t.bodyFish=new l.x(d,p),t.body.add(t.bodyFish);var u=new l.i(0,60,60,4,!1),w=new l.z({color:16711900});t.tailFish=new l.x(u,w),t.tailFish.scale.set(.8,1,.1),t.tailFish.position.x=-60,t.tailFish.rotation.z=-Math.PI/2,t.body.add(t.tailFish);var m=new l.c(25,10,120),y=new l.z({color:8451582});t.lipsFish=new l.x(m,y),t.lipsFish.position.x=65,t.lipsFish.position.y=-47,t.lipsFish.rotation.z=Math.PI/2,t.body.add(t.lipsFish),t.topFish=new l.x(u,w),t.topFish.scale.set(.8,1,.1),t.topFish.position.x=-20,t.topFish.position.y=60,t.topFish.rotation.z=-Math.PI/2,t.sideRightFish=new l.x(u,w),t.sideRightFish.scale.set(.8,1,.1),t.sideRightFish.rotation.x=Math.PI/2,t.sideRightFish.rotation.z=-Math.PI/2,t.sideRightFish.position.x=0,t.sideRightFish.position.y=-50,t.sideRightFish.position.z=-60,t.sideLeftFish=new l.x(u,w),t.sideLeftFish.scale.set(.8,1,.1),t.sideLeftFish.rotation.x=Math.PI/2,t.sideLeftFish.rotation.z=-Math.PI/2,t.sideLeftFish.position.x=0,t.sideLeftFish.position.y=-50,t.sideLeftFish.position.z=60,t.body.add(t.topFish,t.sideLeftFish,t.sideRightFish);var g=new l.c(40,40,5),b=new l.z({color:16777215});t.rightEye=new l.x(g,b),t.rightEye.position.z=-60,t.rightEye.position.x=25,t.rightEye.position.y=-10;var f=new l.c(10,10,3),M=new l.z({color:3342336});t.rightIris=new l.x(f,M),t.rightIris.position.z=-65,t.rightIris.position.x=35,t.rightIris.position.y=-10,t.leftEye=new l.x(g,b),t.leftEye.position.z=60,t.leftEye.position.x=25,t.leftEye.position.y=-10,t.leftIris=new l.x(f,M),t.leftIris.position.z=65,t.leftIris.position.x=35,t.leftIris.position.y=-10,t.body.add(t.rightEye,t.leftEye,t.leftIris,t.rightIris);var v=new l.c(20,4,20),x=new l.z({color:16777215});return t.tooth1=new l.x(v,x),t.tooth1.position.x=65,t.tooth1.position.y=-35,t.tooth1.position.z=-50,t.tooth1.rotation.z=Math.PI/2,t.tooth1.rotation.x=-Math.PI/2,t.tooth2=new l.x(v,x),t.tooth2.position.x=65,t.tooth2.position.y=-30,t.tooth2.position.z=-25,t.tooth2.rotation.z=Math.PI/2,t.tooth2.rotation.x=-Math.PI/12,t.tooth3=new l.x(v,x),t.tooth3.position.x=65,t.tooth3.position.y=-25,t.tooth3.position.z=0,t.tooth3.rotation.z=Math.PI/2,t.tooth4=new l.x(v,x),t.tooth4.position.x=65,t.tooth4.position.y=-30,t.tooth4.position.z=25,t.tooth4.rotation.z=Math.PI/2,t.tooth4.rotation.x=Math.PI/12,t.tooth5=new l.x(v,x),t.tooth5.position.x=65,t.tooth5.position.y=-35,t.tooth5.position.z=50,t.tooth5.rotation.z=Math.PI/2,t.tooth5.rotation.x=Math.PI/8,t.body.add(t.tooth1,t.tooth2,t.tooth3,t.tooth4,t.tooth5),t.body.rotation.y=-Math.PI/4,t.body.rotation.y=-Math.PI/4,t.body.scale.set(.05,.05,.05),t.body.rotateY(.6*Math.PI),t.body.traverse((function(t){t instanceof l.x&&(t.castShadow=!0,t.receiveShadow=!0)})),t.run=function(e){t.status="running",t.runningCycle+=3*e*.7,t.runningCycle=t.runningCycle%(2*Math.PI);var n=t.runningCycle;t.body.position.y=10,new R.a.Tween(t.tailFish.rotation).to({y:.5*Math.cos(n)},300).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.topFish.rotation).to({x:.5*Math.sin(n/5)},300).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.sideRightFish.rotation).to({x:Math.PI/2+.2*Math.sin(n/5)},300).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.sideLeftFish.rotation).to({x:Math.PI/2+.2*Math.sin(n/5)},300).easing(R.a.Easing.Back.Out).start();var s=(r+(o-r)*n/5)/255,d=(c+(a-c)*n/5)/255,l=(h+(i-h)*n/5)/255;t.bodyFish.material.color.setRGB(s,d,d),t.lipsFish.material.color.setRGB(s,d,l),new R.a.Tween(t.bodyFish.material.color).to({r:s,g:d,b:d},5e3).easing(R.a.Easing.Back.Out).start(),new R.a.Tween(t.lipsFish.material.color).to({r:s,g:d,b:l},1e3).easing(R.a.Easing.Back.Out).start()},t.jump=function(){t.status="jumping";new R.a.Tween(t.body.position).to({y:t.body.position.y+25},300).easing(R.a.Easing.Bounce.Out).start(),new R.a.Tween(t.body.scale).to({y:.01,z:.01},300).easing(R.a.Easing.Bounce.Out).start(),new R.a.Tween(t.body.position).to({y:"0"},300).delay(300).easing(R.a.Easing.Bounce.In).start(),new R.a.Tween(t.body.scale).to({y:.05,z:.05},300).delay(300).easing(R.a.Easing.Bounce.In).start()},t}return n}(l.s),B=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(s.a)(this,n),(t=e.call(this)).status="running",t.runningCycle=0,t.body=new l.s,t.add(t.body);var o=new l.c(8,8,8,1);t.torso=new l.x(o,k.blueMat),t.torso.position.y=8,t.torso.castShadow=!0,t.body.add(t.torso);var a=new l.c(3,3,3,1);t.handR=new l.x(a,k.brownMat),t.handR.position.z=7,t.handR.position.y=8,t.body.add(t.handR),t.handL=t.handR.clone(),t.handL.position.z=-t.handR.position.z,t.body.add(t.handL);var i=new l.c(16,16,16,1);t.head=new l.x(i,k.blueMat),t.head.position.y=21,t.head.castShadow=!0,t.body.add(t.head);var r=new l.c(8,3,5,1);return t.legR=new l.x(r,k.brownMat),t.legR.position.x=0,t.legR.position.z=7,t.legR.position.y=0,t.legR.castShadow=!0,t.body.add(t.legR),t.legL=t.legR.clone(),t.legL.position.z=-t.legR.position.z,t.legL.castShadow=!0,t.body.add(t.legL),t.body.scale.set(.25,.25,.25),t.body.rotateY(.8*Math.PI),t.run=function(e){t.status="running",t.runningCycle+=4*e*.7,t.runningCycle=t.runningCycle%(2*Math.PI);var n=t.runningCycle;t.legR.position.x=4*Math.cos(n),t.legR.position.y=Math.max(0,4*-Math.sin(n)),t.legL.position.x=4*Math.cos(n+Math.PI),t.legL.position.y=Math.max(0,4*-Math.sin(n+Math.PI)),t.torso.position.y=8-4*Math.cos(2*n)*.2,t.torso.rotation.y=4*-Math.cos(n+Math.PI)*.05,t.head.position.y=21-4*Math.cos(2*n)*.3,t.head.rotation.x=4*Math.cos(n)*.02,t.head.rotation.y=4*Math.cos(n)*.01,t.handR.position.x=4*-Math.cos(n),t.handR.rotation.z=-Math.cos(n)*Math.PI/8,t.handL.position.x=4*-Math.cos(n+Math.PI),t.handL.rotation.z=-Math.cos(n+Math.PI)*Math.PI/8},t.jump=function(){t.status="jumping";new R.a.Tween(t.body.position).to({y:t.body.position.y+15},300).easing(R.a.Easing.Quadratic.Out).start(),new R.a.Tween(t.body.position).to({y:"0"},300).delay(300).easing(R.a.Easing.Quadratic.In).start()},t}return n}(l.s),F=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t,o){var a,i=t.distance,r=t.far,c=t.fov;Object(s.a)(this,n);var h=new l.G(c,window.innerWidth/window.innerHeight,1,r);return a=e.call(this),h.translateZ(i),a.add(h),a.translateY(o),a.rotateX(-Math.PI/4),a.getPerspectiveCamera=function(){return h},a.rotateVertically=function(t){var e=Math.min(Math.PI/2,a.rotation.x+t);a.rotation.x=Math.max(-Math.PI/2,e)},a}return n}(l.E),E=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var o,a=t.modelName,i=t.height,r=t.initialY,c=(t.playerName,Object(y.a)(t,["modelName","height","initialY","playerName"]));switch(Object(s.a)(this,n),o=e.call(this),a){case"Rabbit":o.model=new z;break;case"Hero":o.model=new B;break;case"Fish":o.model=new I;break;default:o.model=new B}o.add(o.model);var h=new F(c,i);return o.add(h),o.position.setY(r),o.getPerspectiveCamera=h.getPerspectiveCamera,o.rotateCamera=h.rotateVertically,o}return n}(l.x),S=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var o,a=t.directionVelocity,i=t.gravity,r=t.jumpVelocity,c=t.maxGravity,h=t.mouseSpeed,d=Object(y.a)(t,["directionVelocity","gravity","jumpVelocity","maxGravity","mouseSpeed"]);Object(s.a)(this,n);var p=!1,u=new E(d),w=new l.Q,m=new l.Q,g=new l.I,b={left:!1,front:!1,right:!1,back:!1,jump:!1};(o=e.call(this)).add(u),o.getPerspectiveCamera=u.getPerspectiveCamera,o.getMesh=function(){return u},o.animate=function(t,e){o.getMesh().model.run(t),!0===b.jump&&o.getMesh().model.jump(),w.set(Number(b.left)-Number(b.right),0,Number(b.back)-Number(b.front)),w.normalize(),m.x=w.x*a*t,m.z=w.z*a*t,m.y=p?Number(b.jump)*r-i*t:Math.max(-c*t,m.y-i*t),o.rotateX(m.z*Math.PI/128),o.rotateZ(m.x*Math.PI/128),u.getWorldPosition(g.ray.origin),g.ray.origin.setLength(2*u.position.y),g.ray.direction.copy(g.ray.origin).negate().normalize();var n=g.intersectObject(e,!1);if(n.length>0){var s=n[0].point.length();u.translateY(m.y),u.position.y<=s?(u.position.setY(s),p=!0):p=!1}};var f=function(t){var e=t.movementX||t.mozMovementX||t.webkitMovementX||0,n=t.movementY||t.mozMovementY||t.webkitMovementY||0;u.rotateCamera(-n*h),o.rotateY(-e*h)},M=function(t){switch(t.keyCode){case 32:b.jump=!0;break;case 37:case 65:b.left=!0;break;case 38:case 87:b.front=!0;break;case 39:case 68:b.right=!0;break;case 40:case 83:b.back=!0}},v=function(t){switch(t.keyCode){case 32:b.jump=!1;break;case 37:case 65:b.left=!1;break;case 38:case 87:b.front=!1;break;case 39:case 68:b.right=!1;break;case 40:case 83:b.back=!1}};return document.addEventListener("keydown",M,!1),document.addEventListener("keyup",v,!1),document.addEventListener("mousemove",f,!1),o.dispose=function(){document.removeEventListener("keydown",M,!1),document.removeEventListener("keyup",v,!1),document.removeEventListener("mousemove",f,!1)},o}return n}(l.E),C=n(17),T=n(20),N=n(15),A=n(21),Y=n(25),W=n(26),Q=n(24),G=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t,o,a){var i;Object(s.a)(this,n),(i=e.call(this,t)).addPass(new T.a(o,a));var r=new N.a(Q.a);return r.uniforms.resolution.value=new l.P(window.innerWidth,window.innerHeight),r.uniforms.resolution.value.multiplyScalar(window.devicePixelRatio),r.uniforms.pixelSize.value=12,i.addPass(r),i}return n}(C.a),q=(C.a,function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t,o,a){var i;Object(s.a)(this,n),i=e.call(this,t);var r=new Y.a(new l.P(window.innerWidth,window.innerHeight),.3,.1,0),c=new W.a;return c.value=.5,i.addPass(new T.a(o,a)),i.addPass(r),i.addPass(c),i}return n}(C.a)),V=n(8),H=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).scene=new l.K,o.renderer=new l.S({antialias:!0}),o.renderer.setPixelRatio(window.devicePixelRatio),o.renderer.setSize(window.innerWidth,window.innerHeight),o.domElement=o.renderer.domElement,o.planet=new P(o.props.planet),o.scene.add(o.planet),o.scene.fog=new l.r,o.scene.background=o.scene.fog.color,o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.sceneRef.appendChild(this.domElement),window.addEventListener("resize",this.onResize,!1),this.animationFrame||(this.animationFrame=requestAnimationFrame(this.animate)),document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize,!1),this.sceneRef.removeChild(this.domElement)}},{key:"render",value:function(){for(var t=this,e=this.scene.children.length-1;e>0;e--){var n=this.scene.children[e];this.scene.remove(n)}this.player=new S(this.props.player),this.scene.add(this.player);var o=new m(this.scene.fog,this.player.getMesh(),this.props.lights);this.scene.add(o);var a,i=this.player.getPerspectiveCamera();"Rabbit"===this.props.player.modelName&&(a=new G(this.renderer,this.scene,i)),"Fish"===this.props.player.modelName&&(a=new q(this.renderer,this.scene,i));var r=0;return this.animate=function(e){var n=(e-r)/1e3;r=e;var s=t.player.animate(n,t.planet);o.animate(n,t.scene.fog,s),t.renderer.render(t.scene,i),t.animationFrame=requestAnimationFrame(t.animate),R.a.update(e),a&&a.render()},Object(V.jsx)("div",{ref:function(e){return t.sceneRef=e},className:"Scene"})}}]),n}(o.Component);H.defaultProps={lights:{distance:512,rotationSpeed:Math.PI/30,size:16},planet:{radius:128,widthSegments:48,heightSegments:32,seed:Date.now(),noiseWidth:32,noiseHeight:8}};var D=n(10),X=(n(36),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).roll=o.roll.bind(Object(D.a)(o)),o}return Object(c.a)(n,[{key:"roll",value:function(){console.log("Speak, friend, and enter")}},{key:"render",value:function(){return Object(V.jsxs)("div",{className:"Front",children:[Object(V.jsxs)("div",{className:"Word",children:[Object(V.jsx)("span",{children:"X"}),Object(V.jsx)("span",{children:" - "}),Object(V.jsx)("span",{children:"p"}),Object(V.jsx)("span",{children:"l"}),Object(V.jsx)("span",{children:"a"}),Object(V.jsx)("span",{children:"n"}),Object(V.jsx)("span",{id:"a",onMouseOver:this.roll,children:"e"}),Object(V.jsx)("span",{children:"t"})]}),Object(V.jsxs)("div",{className:"instructions",children:[Object(V.jsx)("div",{children:"Jump? space"}),Object(V.jsx)("div",{children:"Move? wasd"}),Object(V.jsx)("div",{children:"1-human 2-rabbit 3-fish"})]})]})}}]),n}(o.Component)),K=(n(37),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={pointerLock:!("pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document)&&null,webgl:!1,player:{modelName:"Hero",directionVelocity:10,distance:30,far:1024,fov:60,gravity:9.81,height:1.618,initialY:256,jumpVelocity:1,maxGravity:27,mouseSpeed:.002}},o.pointerLockChange=function(){o.setState({pointerLock:document.pointerLockElement===o.appRef.current||document.mozPointerLockElement===o.appRef.current||document.webkitPointerLockElement===o.appRef.current})},o.requestPointerLock=function(){!1===o.state.pointerLock&&(o.appRef.requestPointerLock=o.appRef.requestPointerLock||o.appRef.mozRequestPointerLock||o.appRef.webkitRequestPointerLock),o.appRef.requestPointerLock()},o.exitPointerLock=function(){!0===o.state.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},o.onKeyDown=function(t){switch(t.keyCode){case 27:o.exitPointerLock();break;case 50:o.setState((function(t,e){return{player:Object(r.a)(Object(r.a)({},t.player),{},{modelName:"Rabbit"})}}));break;case 49:o.setState((function(t,e){return{player:Object(r.a)(Object(r.a)({},t.player),{},{modelName:"Hero"})}}));break;case 51:o.setState((function(t,e){return{player:Object(r.a)(Object(r.a)({},t.player),{},{modelName:"Fish"})}}))}},o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){if(null!==this.state.pointerLock&&(document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("pointerlockchange",this.pointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!1),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!1),document.addEventListener("pointerlockerror",console.log,!1),document.addEventListener("mozpointerlockerror",console.log,!1),document.addEventListener("webkitpointerlockerror",console.log,!1)),window.WebGLRenderingContext){var t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");this.setState({webgl:Boolean(e)})}}},{key:"componentWillUnmount",value:function(){null!==this.state.pointerLock&&(document.removeEventListener("keydown",this.onKeyDown,!1),document.removeEventListener("pointerlockchange",this.pointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!1),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!1),document.removeEventListener("pointerlockerror",console.log,!1),document.removeEventListener("mozpointerlockerror",console.log,!1),document.removeEventListener("webkitpointerlockerror",console.log,!1)),this.exitPointerLock()}},{key:"render",value:function(){var t=this,e=[],n=this.state.webgl?Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)(X,{}),Object(V.jsx)("button",{id:"btn",onClick:this.requestPointerLock,children:"Explore"})]}):null,o=this.state.webgl&&this.state.pointerLock?Object(V.jsx)(H,{player:this.state.player}):Object(V.jsx)("div",{className:"App-interface",children:n});return null===this.state.pointerLock&&e.push("Your browser may not support Pointer Lock API."),!1===this.state.webgl&&e.push("Your browser or device may not support WebGL."),Object(V.jsx)("div",{ref:function(e){return t.appRef=e},className:"App",children:o})}}]),n}(o.Component));i.a.render(Object(V.jsx)(K,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.5c8db335.chunk.js.map